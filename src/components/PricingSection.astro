---
export interface Props {
  className?: string;
}

const { className = "" } = Astro.props;
---

<section id="pricing" class={`pricing-section ${className}`} data-pricing-section>
  <div class="min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 py-20 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto">
      <!-- Section Header -->
      <div class="text-center mb-16" data-pricing-header>
        <span class="inline-block px-4 py-2 bg-purple-100 text-purple-700 rounded-full text-sm font-semibold mb-6">
          ðŸ’° Transparante Prijzen
        </span>
        <h2 class="text-5xl lg:text-6xl font-bold text-purple-900 mb-6 split-pricing">
          Kies jouw <br />
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">
            pakket
          </span>
        </h2>
        <p class="text-xl text-purple-700 max-w-3xl mx-auto leading-relaxed">
          Flexibele pakketten die meegroeien met jouw recruitment behoeften. Van startup tot enterprise.
        </p>
      </div>

      <!-- Pricing Cards -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16">
        <!-- Starter Package -->
        <div class="pricing-card bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 relative" data-pricing-card>
          <div class="text-center mb-8">
            <h3 class="text-2xl font-bold text-purple-900 mb-2">Starter</h3>
            <p class="text-gray-600 mb-6">Perfect voor kleine bedrijven die net beginnen met Gen-Z recruitment</p>
            <div class="mb-6">
              <span class="text-4xl font-bold text-purple-600">â‚¬499</span>
              <span class="text-gray-500">/maand</span>
            </div>
          </div>

          <ul class="space-y-4 mb-8">
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Tot 5 visuele vacatures per maand</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Basis company fanpage</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Social media templates</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Email support</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Basis analytics dashboard</span>
            </li>
          </ul>

          <button class="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors duration-300">
            Start met Starter
          </button>
        </div>

        <!-- Professional Package (Most Popular) -->
        <div class="pricing-card bg-white rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 relative border-2 border-purple-500" data-pricing-card>
          <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
            <span class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-full text-sm font-semibold">
              Meest Populair
            </span>
          </div>

          <div class="text-center mb-8">
            <h3 class="text-2xl font-bold text-purple-900 mb-2">Professional</h3>
            <p class="text-gray-600 mb-6">Ideaal voor groeiende bedrijven die serieus inzetten op Gen-Z talent</p>
            <div class="mb-6">
              <span class="text-4xl font-bold text-purple-600">â‚¬999</span>
              <span class="text-gray-500">/maand</span>
            </div>
          </div>

          <ul class="space-y-4 mb-8">
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Tot 15 visuele vacatures per maand</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Premium company fanpage</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Creator network toegang</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Video content creatie</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Priority support</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Geavanceerde analytics</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Maandelijkse strategie sessie</span>
            </li>
          </ul>

          <button class="w-full bg-gradient-to-r from-purple-600 via-pink-600 to-purple-800 hover:from-purple-700 hover:via-pink-700 hover:to-purple-900 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105">
            Kies Professional
          </button>
        </div>

        <!-- Enterprise Package -->
        <div class="pricing-card bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 relative" data-pricing-card>
          <div class="text-center mb-8">
            <h3 class="text-2xl font-bold text-purple-900 mb-2">Enterprise</h3>
            <p class="text-gray-600 mb-6">Voor grote organisaties met complexe recruitment behoeften</p>
            <div class="mb-6">
              <span class="text-4xl font-bold text-purple-600">Custom</span>
              <span class="text-gray-500">/maand</span>
            </div>
          </div>

          <ul class="space-y-4 mb-8">
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Onbeperkte visuele vacatures</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Custom company platform</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Dedicated creator team</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">White-label oplossingen</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">24/7 dedicated support</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Custom integrations</span>
            </li>
            <li class="flex items-center gap-3">
              <span class="text-green-500 text-xl">âœ“</span>
              <span class="text-gray-700">Wekelijkse strategie sessies</span>
            </li>
          </ul>

          <button class="w-full border-2 border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300">
            Contact voor Offerte
          </button>
        </div>
      </div>

      <!-- Additional Info -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-12 mb-16">
        <!-- What's Included -->
        <div class="included-section" data-included-section>
          <h3 class="text-2xl font-bold text-purple-900 mb-6">Wat zit er altijd bij?</h3>
          <ul class="space-y-4">
            <li class="flex items-start gap-3">
              <span class="text-purple-500 text-xl mt-1">âœ“</span>
              <div>
                <span class="font-semibold text-gray-800">Onboarding & Training</span>
                <p class="text-gray-600 text-sm">Persoonlijke begeleiding bij het opstarten</p>
              </div>
            </li>
            <li class="flex items-start gap-3">
              <span class="text-purple-500 text-xl mt-1">âœ“</span>
              <div>
                <span class="font-semibold text-gray-800">Content Templates</span>
                <p class="text-gray-600 text-sm">Ready-to-use templates voor snelle start</p>
              </div>
            </li>
            <li class="flex items-start gap-3">
              <span class="text-purple-500 text-xl mt-1">âœ“</span>
              <div>
                <span class="font-semibold text-gray-800">Performance Tracking</span>
                <p class="text-gray-600 text-sm">Realtime inzicht in campagne resultaten</p>
              </div>
            </li>
            <li class="flex items-start gap-3">
              <span class="text-purple-500 text-xl mt-1">âœ“</span>
              <div>
                <span class="font-semibold text-gray-800">Geen Setup Kosten</span>
                <p class="text-gray-600 text-sm">Direct aan de slag zonder extra kosten</p>
              </div>
            </li>
          </ul>
        </div>

        <!-- FAQ Preview -->
        <div class="faq-preview" data-faq-preview>
          <h3 class="text-2xl font-bold text-purple-900 mb-6">Veelgestelde vragen</h3>
          <div class="space-y-4">
            <div class="faq-item">
              <h4 class="font-semibold text-gray-800 mb-2">Kan ik altijd opzeggen?</h4>
              <p class="text-gray-600 text-sm">Ja, alle pakketten zijn maandelijks opzegbaar zonder verborgen kosten.</p>
            </div>
            <div class="faq-item">
              <h4 class="font-semibold text-gray-800 mb-2">Krijg ik een proefperiode?</h4>
              <p class="text-gray-600 text-sm">Ja, we bieden een 14-dagen gratis proefperiode voor alle nieuwe klanten.</p>
            </div>
            <div class="faq-item">
              <h4 class="font-semibold text-gray-800 mb-2">Kan ik upgraden tijdens mijn contract?</h4>
              <p class="text-gray-600 text-sm">Absoluut! Je kunt altijd upgraden naar een hoger pakket.</p>
            </div>
          </div>
          <a href="/#faq" class="inline-flex items-center gap-2 text-purple-600 hover:text-purple-800 font-medium mt-4 transition-colors duration-300">
            Meer vragen? Bekijk onze FAQ
            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
        </div>
      </div>

      <!-- CTA Section -->
      <div class="text-center bg-gradient-to-r from-purple-600 via-pink-600 to-purple-800 rounded-2xl p-12 text-white" data-pricing-cta>
        <h3 class="text-3xl font-bold mb-4">Nog niet zeker welk pakket bij je past?</h3>
        <p class="text-xl mb-8 opacity-90">
          Plan een gratis consultatie en we helpen je het perfecte pakket te kiezen.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/#contact" class="group relative overflow-hidden rounded-xl bg-white text-purple-600 px-8 py-4 font-semibold shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-white/50">
            <span class="relative z-10 flex items-center justify-center gap-2">
              Gratis Consultatie
              <svg class="h-5 w-5 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
              </svg>
            </span>
          </a>
          <a href="/pricing" class="group relative overflow-hidden rounded-xl border-2 border-white text-white px-8 py-4 font-semibold transition-all duration-300 hover:bg-white hover:text-purple-600 focus:outline-none focus:ring-4 focus:ring-white/50">
            <span class="relative z-10 flex items-center justify-center gap-2">
              Alle Prijzen Bekijken
              <svg class="h-5 w-5 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
              </svg>
            </span>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  import { SplitText } from "gsap/SplitText";

  gsap.registerPlugin(SplitText, ScrollTrigger);

  function initPricingAnimations(): void {
    const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    if (prefersReducedMotion) return;

    const pricingSection = document.querySelector('[data-pricing-section]') as HTMLElement;
    if (!pricingSection) return;

    // Animate section title
    const pricingTitle = pricingSection.querySelector('.split-pricing');
    if (pricingTitle) {
      const split = SplitText.create(pricingTitle, { type: "words, chars" });
      gsap.fromTo(split.chars,
        { opacity: 0, y: 100 },
        {
          opacity: 1,
          y: 0,
          duration: 1,
          stagger: 0.05,
          scrollTrigger: {
            trigger: pricingTitle,
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse",
          },
        }
      );
    }

    // Animate pricing cards
    const pricingCards = pricingSection.querySelectorAll('[data-pricing-card]');
    pricingCards.forEach((card, index) => {
      gsap.fromTo(card,
        { opacity: 0, y: 50 },
        {
          opacity: 1,
          y: 0,
          duration: 0.8,
          ease: "power2.out",
          delay: index * 0.1,
          scrollTrigger: {
            trigger: card,
            start: "top 85%",
            end: "bottom 15%",
            toggleActions: "play none none reverse",
          },
        }
      );
    });

    // Animate additional sections
    const includedSection = pricingSection.querySelector('[data-included-section]');
    if (includedSection) {
      gsap.fromTo(includedSection,
        { opacity: 0, x: -50 },
        {
          opacity: 1,
          x: 0,
          duration: 0.8,
          ease: "power2.out",
          scrollTrigger: {
            trigger: includedSection,
            start: "top 85%",
            end: "bottom 15%",
            toggleActions: "play none none reverse",
          },
        }
      );
    }

    const faqPreview = pricingSection.querySelector('[data-faq-preview]');
    if (faqPreview) {
      gsap.fromTo(faqPreview,
        { opacity: 0, x: 50 },
        {
          opacity: 1,
          x: 0,
          duration: 0.8,
          ease: "power2.out",
          delay: 0.2,
          scrollTrigger: {
            trigger: faqPreview,
            start: "top 85%",
            end: "bottom 15%",
            toggleActions: "play none none reverse",
          },
        }
      );
    }

    // Animate CTA section
    const pricingCta = pricingSection.querySelector('[data-pricing-cta]');
    if (pricingCta) {
      gsap.fromTo(pricingCta,
        { opacity: 0, scale: 0.95 },
        {
          opacity: 1,
          scale: 1,
          duration: 0.8,
          ease: "power2.out",
          scrollTrigger: {
            trigger: pricingCta,
            start: "top 85%",
            end: "bottom 15%",
            toggleActions: "play none none reverse",
          },
        }
      );
    }
  }

  // Initialize when DOM is ready
  document.addEventListener('DOMContentLoaded', initPricingAnimations);
</script>
