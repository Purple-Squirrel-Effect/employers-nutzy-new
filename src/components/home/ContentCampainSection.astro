---
import CharacterCard from "../CharacterCard.astro";
import Section from "../Section.astro";
---

<Section
  wrapperId="content-campaign-section"
  sectionClassName="bg-secondary-500 overflow-hidden "
  className="relative min-h-screen  mx-auto gap-8 items-center justify-center grid grid-cols-1 lg:grid-cols-2 z-50"
>
  <div class="text-center lg:text-left">
    <h1
      class="text-3xl md:text-5xl lg:text-6xl xl:text-8xl font-bold text-white relative z-50 text-shadow shadow-black"
    >
      <span class="text-primary-200">Content creatie</span> & campagnes
    </h1>
    <p
      class="text-base md:text-lg lg:text-xl pt-4 text-white max-w-2xl mx-auto lg:mx-0"
    >
      Het bereiken van Generatie Z als digital natives doe je natuurlijk online.
      Met ons team van jonge content creators helpen we je bij het maken van
      passende Gen Z content. En we regelen ook jouw campagne. Meer weten?
    </p>
  </div>
  <div
    id="character-cards"
    class="w-full h-64 px-8 p relative z-50 flex justify-center items-center lg:pl-12"
  >
    <CharacterCard
      id="floor-van-bergen"
      className=" lg:absolute -translate-2 h-80 w-64 absolute"
      name="Floor van Bergen"
      description="Een content creator die je content maakt en publiceert op de juiste platformen."
      avatarSrc="https://imagedelivery.net/E7Eayshix4aN786AJOti1g/6903d35b-dee2-4221-8705-95d363102e00/public"
      avatarAlt="Maya Rodriguez - Content Creator"
    />
    <CharacterCard
      id="lotte-moerkens"
      className=" -translate-4 h-80 w-64 absolute"
      name="Lotte Moerkens"
      description="Een content creator die je content maakt en publiceert op de juiste platformen."
      avatarSrc="https://imagedelivery.net/E7Eayshix4aN786AJOti1g/bc61e144-253c-4393-c18e-8828377d2100/public"
      avatarAlt="Emma - Content Creator"
    />
  </div>
</Section>

<script>
  import { gsap } from "gsap";
import { Flip } from "gsap/Flip";
import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(Flip);

  const floorVanBergen = document.getElementById("floor-van-bergen");
  const lotteMoerkens = document.getElementById("lotte-moerkens");
  const characterCards = document.getElementById("content-campaign-section");

  const isMobile = window.innerWidth < 768;

  const timeline = gsap.timeline({ paused: true });

  timeline.fromTo(
    lotteMoerkens,
    { x: "0%", duration: 1, scale: 1, rotate: 0, zIndex: 2 },
    { x: "-100%", duration: 1, scale: 0.8, zIndex: 2 },
    0
  );

  timeline.fromTo(
    floorVanBergen,
    { x: "0%", duration: 1, scale: 0.8, zIndex: 1 },
    { x: "0", duration: 1, scale: 1, zIndex: 1 },
    0
  );

  timeline.fromTo(
    lotteMoerkens,
    { x: "-100%", duration: 1, scale: 0.8, zIndex: 1 },
    { x: "-0%", duration: 1, scale: 0.8, zIndex: 1 },
    1
  );

  timeline.fromTo(
    floorVanBergen,
    { x: "0", duration: 1, scale: 1, zIndex: 2 },
    { x: "0", duration: 1, scale: 1, zIndex: 2 },
    1
  );

  ScrollTrigger.create({
    trigger: characterCards,
    start: "top 5%",
    end: "bottom +=10px",
    pinType: "fixed",
    pin: true,
    scrub: 1,
    animation: timeline,
  });
</script>
