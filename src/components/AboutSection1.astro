---
import Section from "./Section.astro";
---

<svg
  class="animate-wave wave-responsive wave-md rotate-180 absolute -my-6"
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 1440 320"
  preserveAspectRatio="none"
>
  <rect class=`fill-transparent` width="1440" height="320" x="0" y="0"></rect>
  <path
    class=`fill-primary-300`
    fill-opacity="1"
    d="M0,64L34.3,69.3C68.6,75,137,85,206,80C274.3,75,343,53,411,58.7C480,64,549,96,617,122.7C685.7,149,754,171,823,186.7C891.4,203,960,213,1029,202.7C1097.1,192,1166,160,1234,128C1302.9,96,1371,64,1406,48L1440,32L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"
  >
  </path>
</svg>
<div
  id="about-section-wrapper"
  class="bg-linear-to-t from-primary-500 to-secondary-500 min-h-screen overflow-hidden w-full p-4 sm:p-8 md:p-16 lg:p-24 xl:p-32"
>
  <div
    id="text-title-about-section"
    class="flex flex-col gap-4 max-w-5xl mx-auto p-2 pt-48"
  >
    <h2
      class="text-4xl md:text-6xl lg:text-7xl xl:text-8xl font-bold text-white relative z-50 text-shadow shadow-black"
    >
      Waarom ons platform werkt
    </h2>
  </div>
  <div id="about-card-1" class="group p-4 sm:p-6">
    <div class="flex flex-col items-center text-center space-y-4">
      <img
        class="w-[100svw] absolute h-[100svh] top-0 -translate-x-1/3 opacity-5"
        src="/svg/objects-color-diamond-svgrepo-com.svg"
        alt="Community"
      />
      <h3
        class="text-[5rem] sm:text-[6rem] md:text-[8rem] lg:text-[10rem] opacity-15 font-anton font-semibold text-white absolute"
      >
        Community
      </h3>

      <div class="relative">
        <p
          class="font-anton text-xl sm:text-2xl md:text-4xl lg:text-5xl xl:text-6xl 2xl:text-7xl max-w-2/3 black/80 leading-relaxed text-white"
        >
          1. DÃ© community voor Gen Z en de arbeidsmarkt
        </p>
      </div>
    </div>
  </div>
  <div id="about-card-2" class="group p-4 sm:p-6">
    <div class="flex flex-col items-center text-center space-y-4">
      <img
        class="w-[100svw] absolute h-[100svh] top-0 translate-x-1/3 opacity-5"
        src="/svg/ui-color-1-eye-17-svgrepo-com.svg"
        alt="Jobs"
      />
      <h3
        class="text-[5rem] sm:text-[6rem] md:text-[8rem] lg:text-[10rem] opacity-15 font-anton font-semibold text-white absolute"
      >
        Visueel
      </h3>

      <div class="relative">
        <p
          class="font-anton text-xl sm:text-2xl md:text-4xl lg:text-5xl xl:text-6xl 2xl:text-7xl max-w-2/3 black/80 leading-relaxed text-white"
        >
          2. Afwisseling van vacatures en inspirerende content
        </p>
      </div>
    </div>
  </div>
  <div id="about-card-3" class="group p-4 sm:p-6">
    <div class="flex flex-col items-center text-center space-y-4">
      <img
        class="w-[100svw] absolute h-[100svh] top-0 right-0 -translate-x-1/3 opacity-5"
        src="/svg/media-icon.svg"
        alt="Visual"
      />

      <h3
        class="text-[5rem] sm:text-[6rem] md:text-[8rem] lg:text-[10rem] opacity-15 font-anton font-semibold text-white absolute"
      >
        Creators
      </h3>

      <div class="relative">
        <p
          class="font-anton text-xl sm:text-2xl md:text-4xl lg:text-5xl xl:text-6xl 2xl:text-7xl max-w-2/3 black/80 leading-relaxed text-white"
        >
          3. Creators uit Gen Z die hun eigen ervaring delen
        </p>
      </div>
    </div>
  </div>
  <div id="about-card-4" class="group p-4 sm:p-6">
    <div class="flex flex-col items-center text-center space-y-4">
      <img
        class="w-[100svw] absolute h-[100svh] top-0 translate-x-1/3 opacity-5"
        src="/svg/briefcase-icon.svg"
        alt="Jobs"
      />
      <h3
        class="text-[5rem] sm:text-[6rem] md:text-[8rem] lg:text-[10rem] opacity-15 font-anton font-semibold text-white absolute"
      >
        Vacatures
      </h3>

      <div class="relative">
        <p
          class="font-anton text-xl sm:text-2xl md:text-4xl lg:text-5xl xl:text-6xl 2xl:text-7xl max-w-2/3 black/80 leading-relaxed text-white"
        >
          4. Een plek waar jong talent hun eerste stap zet
        </p>
      </div>
    </div>
  </div>
</div>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  // Register GSAP plugins
  gsap.registerPlugin(ScrollTrigger);

  // Wait for DOM to be ready
  document.addEventListener("DOMContentLoaded", () => {
    const text = document.getElementById("text-title-about-section");
    const aboutCard1 = document.getElementById("about-card-1");
    const aboutCard2 = document.getElementById("about-card-2");
    const aboutCard3 = document.getElementById("about-card-3");
    const aboutCard4 = document.getElementById("about-card-4");

    // Create timeline with sequential card reveals
    const timeline3 = gsap.timeline({
      defaults: {},
    });

    gsap.set(text, { y: "-200%" });
    timeline3.fromTo(text, { y: "-200%" }, { y: "0%" }, 0.1);
    ScrollTrigger.create({
      trigger: text,
      start: "top 3%",
      end: "0% 0%",
      pinType: "fixed",
      pin: true,
      scrub: 1,
      animation: timeline3,
    });

    // Card 1 animation
    const timeline = gsap.timeline({
      defaults: {},
    });

    timeline.fromTo(aboutCard1, { x: "-100%" }, { x: 0 }, 0);
    ScrollTrigger.create({
      trigger: aboutCard1,
      start: "top 50%",
      end: "0% 0%",
      pinType: "fixed",
      pin: true,
      scrub: 0.2,
      animation: timeline,
    });

    // Card 2 animation
    const timeline2 = gsap.timeline({
      defaults: {},
    });

    timeline2.fromTo(
      aboutCard2,
      { opacity: 0, x: "100%" },
      { opacity: 1, x: 0 },
      0
    );
    ScrollTrigger.create({
      trigger: aboutCard2,
      start: "top 50%",
      end: "0% 0%",
      pinType: "fixed",
      pin: true,
      scrub: 0.2,
      animation: timeline2,
    });

    // Card 3 animation
    const timeline4 = gsap.timeline({
      defaults: {},
    });

    timeline4.fromTo(
      aboutCard3,
      { opacity: 0, x: "-100%" },
      { opacity: 1, x: 0 },
      0
    );
    ScrollTrigger.create({
      trigger: aboutCard3,
      start: "top 50%",
      end: "0% 0%",
      pinType: "fixed",
      pin: true,
      scrub: 0.2,
      animation: timeline4,
    });

    // Card 4 animation
    const timeline5 = gsap.timeline({
      defaults: {},
    });

    timeline5.fromTo(
      aboutCard4,
      { opacity: 0, x: "100%" },
      { opacity: 1, x: 0 },
      0
    );
    ScrollTrigger.create({
      trigger: aboutCard4,
      start: "top 50%",
      end: "0% 0%",
      pinType: "fixed",
      pin: true,
      scrub: 0.2,
      animation: timeline5,
    });
  });
</script>
