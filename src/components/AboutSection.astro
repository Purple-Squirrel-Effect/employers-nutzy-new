---
export interface Props {
  className?: string;
}

const { className = "" } = Astro.props;
---

<section id="about" class={`about-section ${className}`} data-about-section>
  <div class="min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 py-20 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto">
      <!-- Section Header -->
      <div class="text-center mb-16" data-about-header>
        <span class="inline-block px-4 py-2 bg-purple-100 text-purple-700 rounded-full text-sm font-semibold mb-6">
          âœ¨ Over Nutzy
        </span>
        <h2 class="text-5xl lg:text-6xl font-bold text-purple-900 mb-6 split-about">
          Wie zijn wij?
        </h2>
        <p class="text-xl text-purple-700 max-w-3xl mx-auto leading-relaxed">
          Nutzy is ontstaan uit de frustratie dat traditionele recruitment Gen-Z kandidaten niet meer bereikt. 
          Wij geloven in de kracht van visuele content en authentieke verhalen.
        </p>
      </div>

      <!-- Company Story -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center mb-20" data-story-section>
        <div class="story-content" data-story-content>
          <h3 class="text-3xl font-bold text-purple-900 mb-6">Ons verhaal</h3>
          <div class="space-y-6 text-lg text-purple-700 leading-relaxed">
            <p>
              Het begon allemaal met een simpele observatie: Gen-Z kandidaten haken massaal af bij traditionele sollicitatieprocedures. 
              Lange formulieren, generieke vacatureteksten en ouderwetse recruitment methoden spreken deze generatie gewoon niet aan.
            </p>
            <p>
              Daarom hebben wij Nutzy opgericht - een platform dat de taal spreekt van Gen-Z. Met visuele content, 
              interactieve elementen en authentieke bedrijfsverhalen brengen we werkgevers en jonge talenten op een 
              moderne manier bij elkaar.
            </p>
            <p>
              Vandaag de dag helpen we bedrijven zoals BDO, TenneT en Albert Heijn om succesvol Gen-Z talent te werven 
              met een aanpak die Ã©cht werkt.
            </p>
          </div>
        </div>
        
        <div class="story-visual" data-story-visual>
          <div class="relative">
            <div class="bg-gradient-to-br from-purple-400 to-pink-500 rounded-2xl p-8 text-white shadow-2xl">
              <div class="text-center">
                <div class="text-6xl mb-4">ðŸš€</div>
                <h4 class="text-2xl font-bold mb-4">Onze Missie</h4>
                <p class="text-lg opacity-90">
                  Gen-Z en werkgevers verbinden door middel van visuele, authentieke en interactieve recruitment experiences.
                </p>
              </div>
            </div>
            
            <!-- Floating stats -->
            <div class="absolute -bottom-6 -left-6 bg-white rounded-xl p-4 shadow-lg">
              <div class="text-center">
                <div class="text-2xl font-bold text-purple-600">2023</div>
                <div class="text-sm text-gray-600">Opgericht</div>
              </div>
            </div>
            
            <div class="absolute -top-6 -right-6 bg-white rounded-xl p-4 shadow-lg">
              <div class="text-center">
                <div class="text-2xl font-bold text-pink-600">50+</div>
                <div class="text-sm text-gray-600">Klanten</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Values Section -->
      <div class="mb-20" data-values-section>
        <div class="text-center mb-12">
          <h3 class="text-4xl font-bold text-purple-900 mb-6">Onze waarden</h3>
          <p class="text-xl text-purple-700 max-w-2xl mx-auto">
            Deze kernwaarden sturen alles wat we doen en hoe we onze klanten helpen.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="value-card bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-shadow duration-300 text-center" data-value-card>
            <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6">
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
            </div>
            <h4 class="text-xl font-bold text-purple-900 mb-4">Innovatie</h4>
            <p class="text-gray-600">
              We blijven vooroplopen met nieuwe technologieÃ«n en creatieve oplossingen voor moderne recruitment uitdagingen.
            </p>
          </div>

          <div class="value-card bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-shadow duration-300 text-center" data-value-card>
            <div class="w-16 h-16 bg-gradient-to-br from-pink-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-6">
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
              </svg>
            </div>
            <h4 class="text-xl font-bold text-purple-900 mb-4">Authenticiteit</h4>
            <p class="text-gray-600">
              Echte verhalen, transparante communicatie en oprechte verbindingen staan centraal in alles wat we doen.
            </p>
          </div>

          <div class="value-card bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-shadow duration-300 text-center" data-value-card>
            <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6">
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
              </svg>
            </div>
            <h4 class="text-xl font-bold text-purple-900 mb-4">Samenwerking</h4>
            <p class="text-gray-600">
              We geloven in de kracht van partnerships en werken nauw samen met onze klanten voor optimale resultaten.
            </p>
          </div>
        </div>
      </div>

      <!-- Team Preview -->
      <div class="text-center" data-team-preview>
        <h3 class="text-4xl font-bold text-purple-900 mb-6">Ons team</h3>
        <p class="text-xl text-purple-700 mb-8 max-w-2xl mx-auto">
          Een diverse groep professionals die samen de toekomst van recruitment vormgeven.
        </p>
        
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
          <div class="team-member-preview" data-team-member>
            <div class="w-20 h-20 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full mx-auto mb-3 flex items-center justify-center">
              <span class="text-white font-bold text-xl">12</span>
            </div>
            <div class="text-sm text-gray-600">Team Members</div>
          </div>
          
          <div class="team-member-preview" data-team-member>
            <div class="w-20 h-20 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full mx-auto mb-3 flex items-center justify-center">
              <span class="text-white font-bold text-xl">5</span>
            </div>
            <div class="text-sm text-gray-600">Developers</div>
          </div>
          
          <div class="team-member-preview" data-team-member>
            <div class="w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-400 rounded-full mx-auto mb-3 flex items-center justify-center">
              <span class="text-white font-bold text-xl">4</span>
            </div>
            <div class="text-sm text-gray-600">Creators</div>
          </div>
          
          <div class="team-member-preview" data-team-member>
            <div class="w-20 h-20 bg-gradient-to-br from-pink-500 to-purple-400 rounded-full mx-auto mb-3 flex items-center justify-center">
              <span class="text-white font-bold text-xl">3</span>
            </div>
            <div class="text-sm text-gray-600">Sales & Support</div>
          </div>
        </div>

        <a href="#team" class="group relative overflow-hidden rounded-xl bg-gradient-to-r from-purple-600 via-pink-600 to-purple-800 px-8 py-4 text-white font-semibold shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-purple-500/25 focus:outline-none focus:ring-4 focus:ring-purple-500/50">
          <span class="relative z-10 flex items-center gap-2">
            Ontmoet het volledige team
            <svg class="h-5 w-5 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </span>
          <div class="absolute inset-0 bg-gradient-to-r from-purple-700 via-pink-700 to-purple-900 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></div>
        </a>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  import { SplitText } from "gsap/SplitText";

  gsap.registerPlugin(SplitText, ScrollTrigger);

  function initAboutAnimations(): void {
    const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
    if (prefersReducedMotion) return;

    const aboutSection = document.querySelector('[data-about-section]') as HTMLElement;
    if (!aboutSection) return;

    // Animate section title
    const aboutTitle = aboutSection.querySelector('.split-about');
    if (aboutTitle) {
      const split = SplitText.create(aboutTitle, { type: "words, chars" });
      gsap.fromTo(split.chars,
        { opacity: 0, y: 100 },
        {
          opacity: 1,
          y: 0,
          duration: 1,
          stagger: 0.05,
          scrollTrigger: {
            trigger: aboutTitle,
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse",
          },
        }
      );
    }

    // Animate header content
    const aboutHeader = aboutSection.querySelector('[data-about-header]');
    if (aboutHeader) {
      gsap.fromTo(aboutHeader,
        { opacity: 0, y: 50 },
        {
          opacity: 1,
          y: 0,
          duration: 0.8,
          ease: "power2.out",
          scrollTrigger: {
            trigger: aboutHeader,
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse",
          },
        }
      );
    }

    // Animate story content
    const storyContent = aboutSection.querySelector('[data-story-content]');
    if (storyContent) {
      gsap.fromTo(storyContent,
        { opacity: 0, x: -50 },
        {
          opacity: 1,
          x: 0,
          duration: 0.8,
          ease: "power2.out",
          scrollTrigger: {
            trigger: storyContent,
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse",
          },
        }
      );
    }

    // Animate story visual
    const storyVisual = aboutSection.querySelector('[data-story-visual]');
    if (storyVisual) {
      gsap.fromTo(storyVisual,
        { opacity: 0, x: 50 },
        {
          opacity: 1,
          x: 0,
          duration: 0.8,
          ease: "power2.out",
          delay: 0.2,
          scrollTrigger: {
            trigger: storyVisual,
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse",
          },
        }
      );
    }

    // Animate value cards
    const valueCards = aboutSection.querySelectorAll('[data-value-card]');
    valueCards.forEach((card, index) => {
      gsap.fromTo(card,
        { opacity: 0, y: 50 },
        {
          opacity: 1,
          y: 0,
          duration: 0.6,
          ease: "power2.out",
          delay: index * 0.1,
          scrollTrigger: {
            trigger: card,
            start: "top 85%",
            end: "bottom 15%",
            toggleActions: "play none none reverse",
          },
        }
      );
    });

    // Animate team preview
    const teamMembers = aboutSection.querySelectorAll('[data-team-member]');
    teamMembers.forEach((member, index) => {
      gsap.fromTo(member,
        { opacity: 0, scale: 0.8 },
        {
          opacity: 1,
          scale: 1,
          duration: 0.5,
          ease: "back.out(1.7)",
          delay: index * 0.1,
          scrollTrigger: {
            trigger: member,
            start: "top 85%",
            end: "bottom 15%",
            toggleActions: "play none none reverse",
          },
        }
      );
    });
  }

  // Initialize when DOM is ready
  document.addEventListener('DOMContentLoaded', initAboutAnimations);
</script>
